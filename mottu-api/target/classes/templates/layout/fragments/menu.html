<div th:fragment="menu"
     xmlns:th="http://www.thymeleaf.org"
     xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
     xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <nav class="sidebar">
        <div class="nav-section">
            <div class="nav-title">Dashboard</div>
            <a th:href="@{/dashboard}" class="nav-link">
                <i class="fas fa-tachometer-alt me-2"></i>Painel Principal
            </a>
        </div>

        <!-- Seção CRUD - Gerenciamento -->
        <div class="nav-section">
            <div class="nav-title">Gerenciamento</div>

            <!-- Motos -->
            <a th:href="@{/motos}" class="nav-link">
                <i class="fas fa-motorcycle me-2"></i>Motos
            </a>

            <!-- Modelos -->
            <a th:href="@{/modelos}" class="nav-link" sec:authorize="hasAnyRole('ADMIN', 'OPERADOR')">
                <i class="fas fa-cogs me-2"></i>Modelos
            </a>

            <!-- Pátios -->
            <a th:href="@{/patios}" class="nav-link" sec:authorize="hasAnyRole('ADMIN', 'OPERADOR')">
                <i class="fas fa-warehouse me-2"></i>Pátios
            </a>

            <!-- Sensores IoT -->
            <a th:href="@{/sensores}" class="nav-link" sec:authorize="hasAnyRole('ADMIN', 'OPERADOR')">
                <i class="fas fa-satellite-dish me-2"></i>Sensores IoT
            </a>

            <!-- Usuários - Apenas ADMIN -->
            <a th:href="@{/usuarios}" class="nav-link" sec:authorize="hasRole('ADMIN')">
                <i class="fas fa-users me-2"></i>Usuários
            </a>
        </div>

        <!-- Seção Monitoramento -->
        <div class="nav-section">
            <div class="nav-title">Monitoramento</div>

            <!-- Alertas -->
            <a th:href="@{/alertas}" class="nav-link">
                <i class="fas fa-exclamation-triangle me-2"></i>
                Alertas
                <span th:if="${alertasHoje != null and alertasHoje.size() > 0}"
                      class="badge bg-danger ms-2" th:text="${alertasHoje.size()}"></span>
            </a>

            <!-- Histórico de Posições -->
            <a th:href="@{/historico}" class="nav-link">
                <i class="fas fa-map-marker-alt me-2"></i>Histórico
            </a>
        </div>

        <!-- Seção Relatórios -->
        <div class="nav-section">
            <div class="nav-title">Relatórios</div>

            <a th:href="@{/relatorios}" class="nav-link" sec:authorize="hasAnyRole('ADMIN', 'OPERADOR')">
                <i class="fas fa-chart-bar me-2"></i>Relatórios
            </a>
        </div>

        <!-- Seção Configurações -->
        <div class="nav-section" sec:authorize="hasRole('ADMIN')">
            <div class="nav-title">Sistema</div>

            <a th:href="@{/configuracoes}" class="nav-link">
                <i class="fas fa-cog me-2"></i>Configurações
            </a>
        </div>

        <!-- Informações do Sistema -->
        <div class="nav-section mt-auto">
            <div class="nav-footer p-3">
                <small class="text-muted">
                    <div><strong>Mottu API</strong></div>
                    <div>Versão 1.0.0</div>
                    <div class="mt-2">
                        <i class="fas fa-circle text-success me-1"></i>
                        Sistema Online
                    </div>
                </small>
            </div>
        </div>
    </nav>
</div>
